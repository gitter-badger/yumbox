(function(){var e,n;n=window.sys,e=function(e,t,u){return e.$on("$stateChangeStart",function(o,s){var a;if(a=null,null!=s.access){if(a=u.authorise(s.access),e.logged_in=!0,a===n.modules.auth.enums.requireSignin)return console.log("redirect to login"),e.logged_in=!1,t.go(n.modules.auth.states.login.name);if(a===n.modules.auth.enums.unauthorised)return t.go(n.modules.auth.states.unauthorised.name)}})},e.$inject=["$rootScope","$state",n.modules.auth.services.authorisation],angular.module(n.modules.auth.name).run(e)}).call(this);