(function(){var t,i;i=window.sys.modules.activities,t=function(t,a,e){var n;return n={assign:function(){return t.activities={list:[],page:0,total:0,disabled:!0},t.more=n.load},load:function(){var a;return t.activities.disabled=!0,a=i.endpoints.list+"?page="+t.activities.page,e.get(a).success(function(i){var a,e,n,s;for(t.activities.page++,t.activities.total=i.data.total,s=i.data.list,e=0,n=s.length;n>e;e++)a=s[e],a.cache_uid=moment().format("x"),t.activities.list.push(a);return t.activities.disabled=t.activities.list.length>=i.data.total})},fix_cache:function(t){var i,a,e,n;for(i=e=0,n=t.length;n>e;i=++e)if(a=t[i],/main/.test(a))return t[i]=a+"?"+moment(),t;return t}},n.assign(),n.load()},t.$inject=i.controllers.index.inject,angular.module(i.name).controller(i.controllers.index.name,t)}).call(this);