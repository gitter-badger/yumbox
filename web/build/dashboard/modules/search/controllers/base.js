(function(){var e,s;s=window.sys.modules.search,e=function(e,n,r,a,t,c){var o;return o={assign:function(){return e.constants=s.constants,e.results={},e.noSearch=!0,e.guests={list:[{user:{name:"Emilia Brekke",city:"Sydney",country:"Australia",age:24,gender:1},doc_key:"g_41GxXbN3u6",user_key:"u_41WpUaVBn",email:"amanda@gmail.com",from:"2015-09-09T10:04:26+04:30",to:"2015-09-19T10:04:26+04:30"}],total:5},e.bookings=e.guests},load:function(){return!0},events:{assign:function(){return o.search.find(),e.search={scope:o.search.scope},e.$on(sys.modules.search.events.changed,o.search.find)}},search:{last_term:null,scope:function(s){return r.go("search",{q:e.query,s:s},{location:"replace",notify:!1}),n.$broadcast(sys.modules.search.events.changed)},clear:function(){return e.results={},e.noSearch=!0},find:function(){var n;if(!angular.equals(o.search.last_term,a))return o.search.last_term=angular.copy(a),e.query=a.q,e.scope=a.s,null==e.query||e.query.length<3?o.search.clear():(e.noSearch=!1,n=s.endpoints.search+"?q="+e.query,null!=e.scope&&(n=n+"&s="+e.scope),console.log(n),t.get(n).success(function(s){return e.results=s.data,console.log(e.results)}))}}},o.assign(),o.load(),o.events.assign()},e.$inject=s.controllers.base.inject,angular.module(s.name).controller(s.controllers.base.name,e)}).call(this);