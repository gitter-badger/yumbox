(function(){var e,s;s=window.sys.modules.settings,e=function(e,t,n){var i;return i={assign:function(){return e.settings={guests:null}},load:function(){return n.get(s.endpoints.api.get).success(function(s){return e.settings=s.data.browser_api.settings,e.api_key=s.data.browser_api.doc_key}),jQuery('<script id="tipi-script"/>').attr("src","/plugins.js?uid=api_f6cfae02d4b6ee59c3fca2084ef5187954712e30&plugins=guests,reviews").appendTo("head"),e.$watchCollection("settings.guests",function(){var s,t;try{return tipi.guests({demo:!0,dark:e.settings.guests.dark,style:e.settings.guests.style})}catch(t){s=t}})},events:{assign:function(){return e.update=i.events.update},update:function(){return e.error=null,console.log(e.settings),n.put(s.endpoints.api.update.replace(":key",e.api_key),{settings:{guests:e.settings.guests}}).success(function(s){return console.log(s),s.data.success?e.updated=!0:void 0}).error(function(s,t){return 400===t?e.error=s.message.split("[")[1].slice(0,-1):void 0})}}},i.assign(),i.load(),i.events.assign()},e.$inject=s.controllers.plugins.inject,angular.module(s.name).controller(s.controllers.plugins.name,e)}).call(this);