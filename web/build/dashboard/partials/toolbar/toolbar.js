(function(){var e,n,s;n=window.sys.partials.toolbar,e=function(e,s,t,o,r,u,c,l,a,i){var m,h;return h=c.$default({currentUser:null}),m={assign:function(){return e.console={query:"",hidden:!0},e.state=n.enums.normal,e.hostel=h.currentUser,s.$on(sys.modules.auth.events.sessionStarted,function(){return e.hostel=h.currentUser})},events:{assign:function(){return s.$on("$stateChangeSuccess",m.events.search.check),e.logout=m.events.logout,e.search=m.events.search,e.menu=m.events.menu,e.shoutout={show:m.events.shoutout.show},e.console.find=m.events.console.find,e.console.choose=m.events.console.choose,e.console.close=m.events.console.close,e.fullscreen={toggle:m.events.fullscreen.toggle},s.$on("$stateChangeStart",function(s,t){return t.name===sys.modules.console.states.show.name?(e.state=n.enums.console,console.log("Console toolbar")):void 0})},shoutout:{show:function(){var s;return s=i.open({animation:!0,templateUrl:"shoutoutModal",controller:"shoutoutCtrl"}),s.result.then(function(s){return r.post(n.endpoints.shoutout,{message:s}).success(function(n){return e.shoutout.sent=!0}).error(function(e,n){return console.log(n)})})}},fullscreen:{toggle:function(){return m.events.fullscreen.exit()?!0:m.events.fullscreen.enter()},exit:function(){return document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():void 0},enter:function(){var e;return e=document.documentElement,e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():void 0}},menu:function(e){return s.sidebarToggle.left=!s.sidebarToggle.left,e.stopPropagation()},logout:function(){return u.logout()},console:{close:function(){return e.state=n.enums.normal,t.go("home")},find:function(){return e.console.hidden=!1,s.$emit(window.sys.modules.console.events.search,e.console.query)},choose:function(n){return e.console.query=s.matched_apis[n].url,e.console.hidden=!0,s.$emit(window.sys.modules.console.events.choose,n)}},search:{check:function(n,s,t,r,u){return r.name===sys.modules.search.states.show.name&&m.events.search.close(),s.name===sys.modules.search.states.show.name&&s.name!==r.name?e.query=o.q:void 0},find:function(n){return 27===n.which?m.events.search.clear(n):t.current.name===sys.modules.search.states.show.name?(t.go("search",{q:e.query},{location:"replace",notify:!1}),s.$broadcast(sys.modules.search.events.changed)):null!=e.query&&e.query.length>3?t.go("search",{q:e.query}):void 0},open:function(){return e.state=n.enums.search,e.readyToType=!0,a("search")},clear:function(e){return $("#top-search-wrap input").blur(),m.events.search.close(),e.stopPropagation()},close:function(){return e.state=n.enums.normal}}}},m.assign(),m.events.assign()},e.$inject=n.controllers.base.inject,angular.module(n.name).controller(n.controllers.base.name,e),s=function(e,n){return e.message="",e.cancel=function(){return n.dismiss("cancel")},e.$watch("message",function(n,s){return n.length>160?e.message=s:void 0}),e.send=function(){return n.close(e.message.replace(/\n/g,""))}},s.$inject=["$scope","$modalInstance"],angular.module(n.name).controller("shoutoutCtrl",s)}).call(this);