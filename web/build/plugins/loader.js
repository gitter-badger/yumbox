(function(){(function(){var e,n,t,r,o,u,l,s;t=function(e){return window.document.createElement(e)},r=window.encodeURIComponent,l=Math.random,e=function(e){var r,u,l,a,i,d,c;if(e=e?e:{},d={data:e.data||{},error:e.error||o,success:e.success||o,beforeSend:e.beforeSend||o,complete:e.complete||o,url:e.url||""},d.computedUrl=n(d),0===d.url.length)throw new Error("MissingUrl");return a=!1,d.beforeSend({},d)!==!1&&(l=e.callbackName||"callback",u=e.callbackFunc||"jsonp_"+s(15),r=d.data[l]=u,window[r]=function(e){return window[r]=null,d.success(e,d),d.complete(e,d)},c=t("script"),c.src=n(d),c.async=!0,c.onerror=function(e){return d.error({url:c.src,event:e}),d.complete({url:c.src,event:e},d)},c.onload=c.onreadystatechange=function(){return a||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState?void 0:(a=!0,c.onload=c.onreadystatechange=null,c&&c.parentNode&&c.parentNode.removeChild(c),c=null)},i=i||window.document.getElementsByTagName("head")[0]||window.document.documentElement,i.insertBefore(c,i.firstChild)),{abort:function(){return window[r]=function(){return window[r]=null},a=!0,c&&c.parentNode?(c.onload=c.onreadystatechange=null,c&&c.parentNode&&c.parentNode.removeChild(c),c=null):void 0}}},o=function(){return void 0},n=function(e){var n;return n=e.url,n+=e.url.indexOf("?")<0?"?":"&",n+=u(e.data)},s=function(e){var n;for(n="";n.length<e;)n+=l().toString(36)[2];return n},u=function(e){var n,t,o;n=[];for(t in e)o=e[t],n.push(r(t)+"="+r(o));return n.join("&")},"undefined"!=typeof define&&null!==define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=e:this.JSONP=e}).call(this);var e,n,t,r,o,u;e="http://localhost:3000",t=function(e){return document.getElementById(e)},r=function(e,n){return e.innerHTML=n},o=function(e,t,r){return null==r&&(r={}),JSONP({url:n.base+e+("?jsonp&uid="+n.uid),data:r,success:function(e){return t(e.replace(/\\"/g,'"'))}})},n={tags:{script:"tipi-script",guests:"tipi-plugin-guests"},base:null,uid:null,plugins:[]},u={detect:function(){var r,o,u,l,s,a,i,d;for(i=t(n.tags.script),d=document.createElement("a"),d.href=i.src,e=d.protocol+"//"+d.hostname,null!=d.port&&(e+=":"+d.port),n.base=e,s=d.search.substr(1).split("&"),a=[],u=0,l=s.length;l>u;u++)r=s[u],o=r.split("="),"plugins"===o[0]&&(o[1]=o[1].split(",")),a.push(n[o[0]]=o[1]);return a},load:function(){return u.guests.load()},guests:{load:function(e){return null==e&&(e={}),u.detect(),o("/plugins/guests",u.guests.show,e)},show:function(e){var o;return o=t(n.tags.guests),r(o,e)}}},window.tipi={start:u.load,guests:function(e){return null!=e?u.guests.load(e):u.guests.load()}},u.load()}).call(this);